import{c as se,h as P,F as ue,i as x,p as O,d as R,r as b,a as F,o as _,b as V,w as j,e as de,f as fe,g as m,j as ce,k as pe,l as ve}from"./chunks/runtime-core.esm-bundler.e59bb94c.js";function w(e,t,...r){if(e in t){let a=t[e];return typeof a=="function"?a(...r):a}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,w),n}var I=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(I||{}),h=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(h||{});function Q({visible:e=!0,features:t=0,ourProps:r,theirProps:n,...a}){var l;let o=he(n,r),s=Object.assign(a,{props:o});if(e||t&2&&o.static)return A(s);if(t&1){let i=(l=o.unmount)==null||l?0:1;return w(i,{[0](){return null},[1](){return A({...a,props:{...o,hidden:!0,style:{display:"none"}}})}})}return A(s)}function A({props:e,attrs:t,slots:r,slot:n,name:a}){var l;let{as:o,...s}=z(e,["unmount","static"]),i=(l=r.default)==null?void 0:l.call(r,n),u={};if(o==="template"){if(i=W(i),Object.keys(s).length>0||Object.keys(t).length>0){let[d,...f]=i??[];if(!me(d)||f.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${a} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(s).concat(Object.keys(t)).sort((c,p)=>c.localeCompare(p)).map(c=>`  - ${c}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(c=>`  - ${c}`).join(`
`)].join(`
`));return se(d,Object.assign({},s,u))}return Array.isArray(i)&&i.length===1?i[0]:i}return P(o,Object.assign({},s,u),i)}function W(e){return e.flatMap(t=>t.type===ue?W(t.children):[t])}function he(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):t[a]=n[a];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(t,{[n](a,...l){let o=r[n];for(let s of o){if(a!=null&&a.defaultPrevented)return;s(a,...l)}}});return t}function z(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function me(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let ge=0;function ye(){return++ge}function be(){return ye()}function U(e){var t;return e==null||e.value==null?null:(t=e.value.$el)!=null?t:e.value}let G=Symbol("Context");var S=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(S||{});function we(){return J()!==null}function J(){return x(G,null)}function _e(e){O(G,e)}function Se(e){let t={called:!1};return(...r)=>{if(!t.called)return t.called=!0,e(...r)}}function K(){let e=[],t=[],r={enqueue(n){t.push(n)},requestAnimationFrame(...n){let a=requestAnimationFrame(...n);r.add(()=>cancelAnimationFrame(a))},nextFrame(...n){r.requestAnimationFrame(()=>{r.requestAnimationFrame(...n)})},setTimeout(...n){let a=setTimeout(...n);r.add(()=>clearTimeout(a))},add(n){e.push(n)},dispose(){for(let n of e.splice(0))n()},async workQueue(){for(let n of t.splice(0))await n()}};return r}function B(e,...t){e&&t.length>0&&e.classList.add(...t)}function C(e,...t){e&&t.length>0&&e.classList.remove(...t)}var H=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(H||{});function Te(e,t){let r=K();if(!e)return r.dispose;let{transitionDuration:n,transitionDelay:a}=getComputedStyle(e),[l,o]=[n,a].map(s=>{let[i=0]=s.split(",").filter(Boolean).map(u=>u.includes("ms")?parseFloat(u):parseFloat(u)*1e3).sort((u,d)=>d-u);return i});return l!==0?r.setTimeout(()=>t("finished"),l+o):t("finished"),r.add(()=>t("cancelled")),r.dispose}function D(e,t,r,n,a,l){let o=K(),s=l!==void 0?Se(l):()=>{};return C(e,...a),B(e,...t,...r),o.nextFrame(()=>{C(e,...r),B(e,...n),o.add(Te(e,i=>(C(e,...n,...t),B(e,...a),s(i))))}),o.add(()=>C(e,...t,...r,...n,...a)),o.add(()=>s("cancelled")),o.dispose}function y(e=""){return e.split(" ").filter(t=>t.trim().length>1)}let $=Symbol("TransitionContext");var Ee=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Ee||{});function Ce(){return x($,null)!==null}function Oe(){let e=x($,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function Fe(){let e=x(N,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let N=Symbol("NestingContext");function L(e){return"children"in e?L(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function Y(e){let t=b([]),r=b(!1);_(()=>r.value=!0),V(()=>r.value=!1);function n(l,o=h.Hidden){let s=t.value.findIndex(({id:i})=>i===l);s!==-1&&(w(o,{[h.Unmount](){t.value.splice(s,1)},[h.Hidden](){t.value[s].state="hidden"}}),!L(t)&&r.value&&e?.())}function a(l){let o=t.value.find(({id:s})=>s===l);return o?o.state!=="visible"&&(o.state="visible"):t.value.push({id:l,state:"visible"}),()=>n(l,h.Unmount)}return{children:t,register:a,unregister:n}}let X=I.RenderStrategy,je=R({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:r,slots:n,expose:a}){if(!Ce()&&we())return()=>P(Z,{...e,onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave")},n);let l=b(null),o=b("visible"),s=F(()=>e.unmount?h.Unmount:h.Hidden);a({el:l,$el:l});let{show:i,appear:u}=Oe(),{register:d,unregister:f}=Fe(),c={value:!0},p=be(),T={value:!1},M=Y(()=>{T.value||(o.value="hidden",f(p),t("afterLeave"))});_(()=>{let v=d(p);V(v)}),j(()=>{if(s.value===h.Hidden&&!!p){if(i&&o.value!=="visible"){o.value="visible";return}w(o.value,{hidden:()=>f(p),visible:()=>d(p)})}});let ee=y(e.enter),te=y(e.enterFrom),ne=y(e.enterTo),q=y(e.entered),re=y(e.leave),ae=y(e.leaveFrom),oe=y(e.leaveTo);_(()=>{j(()=>{if(o.value==="visible"){let v=U(l);if(v instanceof Comment&&v.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function le(v){let k=c.value&&!u.value,g=U(l);!g||!(g instanceof HTMLElement)||k||(T.value=!0,i.value&&t("beforeEnter"),i.value||t("beforeLeave"),v(i.value?D(g,ee,te,ne,q,E=>{T.value=!1,E===H.Finished&&t("afterEnter")}):D(g,re,ae,oe,q,E=>{T.value=!1,E===H.Finished&&(L(M)||(o.value="hidden",f(p),t("afterLeave")))})))}return _(()=>{de([i],(v,k,g)=>{le(g),c.value=!1},{immediate:!0})}),O(N,M),_e(F(()=>w(o.value,{visible:S.Open,hidden:S.Closed}))),()=>{let{appear:v,show:k,enter:g,enterFrom:E,enterTo:Ue,entered:De,leave:Ve,leaveFrom:Ie,leaveTo:Qe,...ie}=e;return Q({theirProps:ie,ourProps:{ref:l},slot:{},slots:n,attrs:r,features:X,visible:o.value==="visible",name:"TransitionChild"})}}}),xe=je,Z=R({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:r,slots:n}){let a=J(),l=F(()=>e.show===null&&a!==null?w(a.value,{[S.Open]:!0,[S.Closed]:!1}):e.show);j(()=>{if(![!0,!1].includes(l.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let o=b(l.value?"visible":"hidden"),s=Y(()=>{o.value="hidden"}),i=b(!0),u={show:l,appear:F(()=>e.appear||!i.value)};return _(()=>{j(()=>{i.value=!1,l.value?o.value="visible":L(s)||(o.value="hidden")})}),O(N,s),O($,u),()=>{let d=z(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),f={unmount:e.unmount};return Q({ourProps:{...f,as:"template"},theirProps:{},slot:{},slots:{...n,default:()=>[P(xe,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...r,...f,...d},n.default)]},attrs:{},features:X,visible:o.value==="visible",name:"Transition"})}}});const Le=(e,t)=>{const r=e.__vccOpts||e;for(const[n,a]of t)r[n]=a;return r},ke=R({__name:"PostCard",setup(e,{expose:t}){t();const r=b(!0);function n(){r.value=!1,setTimeout(()=>{r.value=!0},500)}const a={isShowing:r,resetIsShowing:n,TransitionRoot:Z};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}}),Ae={class:"p-4"},Be=m("span",{class:"text-xl font-bold","th:text":"@{post.title}"},"Hello Halo",-1),He={class:"flex flex-col items-center py-16"},Pe={class:"h-32 w-32"},Re=m("div",{class:"h-full w-full rounded-md bg-white shadow-lg"},null,-1),$e=m("svg",{class:"h-5 w-5 opacity-70",fill:"none",viewBox:"0 0 20 20"},[m("path",{d:"M14.9497 14.9498C12.2161 17.6835 7.78392 17.6835 5.05025 14.9498C2.31658 12.2162 2.31658 7.784 5.05025 5.05033C7.78392 2.31666 12.2161 2.31666 14.9497 5.05033C15.5333 5.63385 15.9922 6.29475 16.3266 7M16.9497 2L17 7H16.3266M12 7L16.3266 7",stroke:"currentColor","stroke-width":"1.5"})],-1),Ne=m("span",{class:"ml-3"},"Click to transition",-1),Me=[$e,Ne];function qe(e,t,r,n,a,l){return ve(),fe("div",Ae,[Be,m("div",He,[m("div",Pe,[ce(n.TransitionRoot,{show:n.isShowing,appear:"",as:"template",enter:"transform transition duration-[400ms]","enter-from":"opacity-0 rotate-[-120deg] scale-50","enter-to":"opacity-100 rotate-0 scale-100",leave:"transform duration-200 transition ease-in-out","leave-from":"opacity-100 rotate-0 scale-100 ","leave-to":"opacity-0 scale-95 "},{default:pe(()=>[Re]),_:1},8,["show"])]),m("button",{class:"mt-8 flex transform items-center rounded-full bg-black bg-opacity-20 px-3 py-2 text-sm font-medium text-white transition hover:scale-105 hover:bg-opacity-30 focus:outline-none active:bg-opacity-40",onClick:n.resetIsShowing},Me)])])}const ze=Le(ke,[["render",qe]]);export{ze as default};
